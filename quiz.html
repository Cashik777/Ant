<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coffee Matcher — EthioDirect</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Outfit:wght@500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/main.css">
    <style>
        .quiz-container {
            max-width: 700px;
            margin: 0 auto;
            text-align: center;
        }

        .quiz-step {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .quiz-step.active {
            display: block;
        }

        .quiz-option {
            background: white;
            border: 2px solid transparent;
            padding: 30px;
            border-radius: var(--radius-md);
            margin-bottom: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: var(--shadow-subtle);
        }

        .quiz-option:hover {
            transform: translateY(-3px);
            border-color: var(--primary);
        }

        .quiz-option.selected {
            border-color: var(--primary);
            background: var(--bg-surface);
        }

        .result-card {
            background: white;
            padding: 40px;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-float);
            margin-top: 40px;
        }
    </style>
</head>

<body>
    <!-- HEADER INJECTED -->

    <main class="section">
        <div class="container quiz-container">
            <div id="quiz-intro" class="quiz-step active">
                <h1 class="mb-4">Найдем ваш идеальный вкус</h1>
                <p class="mb-5" style="font-size: 1.2rem;">Ответьте на 3 простых вопроса, и мы подберем лот, который вам
                    точно понравится. Алгоритм учитывает 15 параметров зерна.</p>
                <button class="btn btn-primary" onclick="nextStep(1)">Начать тест</button>
            </div>

            <!-- Q1 -->
            <div id="step-1" class="quiz-step">
                <span class="text-gold text-uppercase" style="font-weight: 700; letter-spacing: 1px;">Вопрос 1/3</span>
                <h2 class="mb-5 mt-2">Как вы готовите кофе?</h2>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="selectOption(1, 'espresso')">
                        <div style="text-align: left;">
                            <h3>Эспрессо / Турка</h3>
                            <p style="margin:0; font-size:0.9rem;">Люблю плотный и насыщенный.</p>
                        </div>
                        <i class="fas fa-mug-hot" style="font-size: 1.5rem; color: var(--primary);"></i>
                    </div>
                    <div class="quiz-option" onclick="selectOption(1, 'filter')">
                        <div style="text-align: left;">
                            <h3>Фильтр / Воронка / Чашка</h3>
                            <p style="margin:0; font-size:0.9rem;">Люблю легкий и чайный.</p>
                        </div>
                        <i class="fas fa-filter" style="font-size: 1.5rem; color: var(--primary);"></i>
                    </div>
                </div>
            </div>

            <!-- Q2 -->
            <div id="step-2" class="quiz-step">
                <span class="text-gold text-uppercase" style="font-weight: 700; letter-spacing: 1px;">Вопрос 2/3</span>
                <h2 class="mb-5 mt-2">Что важнее во вкусе?</h2>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="selectOption(2, 'acidic')">
                        <div style="text-align: left;">
                            <h3>Кислинка и Ягоды</h3>
                            <p style="margin:0; font-size:0.9rem;">Яркий, фруктовый профиль.</p>
                        </div>
                        <i class="fas fa-lemon" style="font-size: 1.5rem; color: var(--primary);"></i>
                    </div>
                    <div class="quiz-option" onclick="selectOption(2, 'bitter')">
                        <div style="text-align: left;">
                            <h3>Шоколад и Орехи</h3>
                            <p style="margin:0; font-size:0.9rem;">Классический, сладкий профиль.</p>
                        </div>
                        <i class="fas fa-cookie" style="font-size: 1.5rem; color: var(--primary);"></i>
                    </div>
                </div>
            </div>

            <!-- Q3 -->
            <div id="step-3" class="quiz-step">
                <span class="text-gold text-uppercase" style="font-weight: 700; letter-spacing: 1px;">Вопрос 3/3</span>
                <h2 class="mb-5 mt-2">Добавляете молоко?</h2>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="selectOption(3, 'milk')">
                        <div style="text-align: left;">
                            <h3>Да, часто</h3>
                            <p style="margin:0; font-size:0.9rem;">Капучино, латте.</p>
                        </div>
                        <i class="fas fa-glass-whiskey" style="font-size: 1.5rem; color: var(--primary);"></i>
                    </div>
                    <div class="quiz-option" onclick="selectOption(3, 'black')">
                        <div style="text-align: left;">
                            <h3>Нет, только черный</h3>
                            <p style="margin:0; font-size:0.9rem;">Важен чистый вкус зерна.</p>
                        </div>
                        <i class="fas fa-coffee" style="font-size: 1.5rem; color: var(--primary);"></i>
                    </div>
                </div>
            </div>

            <!-- RESULT -->
            <div id="step-result" class="quiz-step">
                <h2>Мы подобрали для вас:</h2>
                <div class="result-card">
                    <img src="https://images.unsplash.com/photo-1510707577719-ae7c9b788690?auto=format&fit=crop&w=600&q=80"
                        style="margin:0 auto 30px; width: 200px; height: 200px; object-fit: cover; border-radius: 50%;">
                    <span class="text-gold" style="text-transform: uppercase; font-weight: 700;">Ethiopia
                        Yirgacheffe</span>
                    <h3 class="mt-2 mb-3" style="font-size: 2rem;">"Цветочная Бомба"</h3>
                    <p style="margin-bottom: 30px;">Идеальный баланс жасмина и бергамота. Легкое тело, которое отлично
                        раскроется в вашем методе заваривания.</p>
                    <div style="display: flex; gap: 20px; justify-content: center;">
                        <button class="btn btn-primary"
                            onclick="window.location.href='subscription.html?product=2'">Оформить подписку</button>
                        <button class="btn btn-outline" onclick="window.location.href='shop.html'">Посмотреть в
                            каталоге</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="js/data.js"></script>
    <script src="js/components.js"></script>
    <script src="js/main.js"></script>

    <script>
        let answers = {};

        function nextStep(n) {
            document.querySelectorAll('.quiz-step').forEach(el => el.classList.remove('active'));
            document.getElementById('step-' + n).classList.add('active');
        }

        function selectOption(step, value) {
            answers[step] = value;
            if (step < 3) {
                setTimeout(() => nextStep(step + 1), 300);
            } else {
                showResult();
            }
        }

        function showResult() {
            document.querySelectorAll('.quiz-step').forEach(el => el.classList.remove('active'));
            // Mock logic: In real app use answers object to filter PRODUCTS
            document.getElementById('step-result').classList.add('active');
        }
    </script>
</body>

</html>